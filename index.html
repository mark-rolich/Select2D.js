<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Select2D.js demo</title>
<meta name="description" content="Select2D.js demo">
<meta name="viewport" content="width=device-width">
<!--[if gte IE 8]>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata">
<![endif]-->
<link rel="stylesheet" type="text/css" href="select2d.min.css">
<link rel="stylesheet" type="text/css" href="demo.css">
</head>
<body>

<h1>Select2D.js</h1>

<p><strong>Select2D.js</strong> is a javascript package which transforms HTML <em>&lt;select&gt;</em> controls to tables.</p>
<p>Supports multi-select using <em>Ctrl</em>, <em>Shift</em> and click-and-drag for select boxes with multiple selection enabled.</p>
<p><strong>Select2D.js</strong> uses Event.js as a cross-browser event handling wrapper, which is available at <a href="https://github.com/mark-rolich/Event.js">Github</a>
and <a href="http://www.jsclasses.org/package/212-JavaScript-Handle-events-in-a-browser-independent-manner.html">JSClasses.org</a></p>
<p>Works in Chrome, Firefox, Safari, IE 7, 8, 9 & 10.</p>
<p>Licensed under the MIT License, &copy; 2014 Mark Rolich</p>
<p>Source code is available at <a href="https://github.com/mark-rolich/Select2D.js">Github</a></p>

<h2>Usage</h2>

<p>Include css and js files:</p>

<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;select2d.min.css&quot;&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;Event.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;Select2D.min.js&quot;&gt;&lt;/script&gt;</code></pre>

<p>Initialize <strong>Select2D.js</strong> passing reference to select as an argument:</p>

<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
var evt = new Event(),
    myselect = new Select2D(evt, document.getElementById('myselect'));
&lt;/script&gt;</code></pre>

<h2>Options</h2>

<p>You can set <strong>Select2D.js</strong> options using the following data attributes:</p>
<ul>
    <li>data-x | int - number of table columns</li>
    <li>data-y | int - number of table rows</li>
    <li>data-debug | bool - by default source select element is hidden, using this you can prevent <strong>Select2D.js</strong> from hiding it</li>
</ul>

<p><strong>Select2D.js</strong> on a regular select:</p>

<pre><code>&lt;select id=&quot;regular&quot; data-x=&quot;3&quot; data-y=&quot;1&quot;&gt;
    &lt;option value=&quot;red&quot;&gt;Red&lt;/option&gt;
    &lt;option value=&quot;green&quot; selected&gt;Green&lt;/option&gt;
    &lt;option value=&quot;blue&quot;&gt;Blue&lt;/option&gt;
&lt;/select&gt;</code></pre>

<select id="regular" data-x="3" data-y="1" data-debug="true">
    <option value="red">Red</option>
    <option value="green" selected>Green</option>
    <option value="blue">Blue</option>
</select>

<p><strong>Select2D.js</strong> on a multiple select with debug:</p>

<pre><code>&lt;select id=&quot;multi-debug&quot; data-x=&quot;5&quot; data-y=&quot;3&quot; data-debug=&quot;true&quot; size=&quot;30&quot; multiple&gt;
    &lt;option value=&quot;0&quot; selected&gt;1&lt;/option&gt;
    &lt;option value=&quot;1&quot;&gt;2&lt;/option&gt;
    &lt;option value=&quot;2&quot; selected&gt;3&lt;/option&gt;
    ...
&lt;/select&gt;</code></pre>

<select id="multi-debug" data-x="5" data-y="3" data-debug="true" size="12" multiple>
    <option value="0" selected>1</option>
    <option value="1">2</option>
    <option value="2" selected>3</option>
    <option value="3">4</option>
    <option value="4">5</option>
    <option value="5">6</option>
    <option value="6">7</option>
    <option value="7">8</option>
    <option value="8">9</option>
    <option value="9">10</option>
    <option value="10">11</option>
    <option value="11">12</option>
</select>

<h2>Methods</h2>

<p><strong>Select2D.js</strong> supports the following methods:</p>

<p><em class="func">selectByIndex</em></p>

<p>Select options taking an index (integer) or an array of indexes as an argument:</p>

<pre><code>var evt = new Event(),
    select = new Select2D(evt, document.getElementById('select'));

select.selectByIndex(2);
select.selectByIndex([1, 3, 5]);</code></pre>

<p><em class="func">selectByValue</em></p>

<p>Select option using its value:</p>

<pre><code>select.selectByValue('red');</code></pre>

<p><em class="func">selectByText</em></p>

<p>Select option by its text value:</p>

<pre><code>select.selectByText('Red');</code></pre>

<p><em class="func">getSelected</em></p>

<p>Get selected options:</p>

<p>indexes:</p>
<pre><code>select.getSelected('idx');</code></pre>

<p>values:</p>
<pre><code>select.getSelected('val');</code></pre>

<p>text values:</p>
<pre><code>select.getSelected('txt');</code></pre>

<p>getSelected returns array for multiple selects and single value for regular ones</p>

<p><em class="func">reset</em></p>

<p>Deselect all options:</p>

<pre><code>select.reset();</code></pre>

<h2>Events</h2>

<p><strong>Select2D.js</strong> fires 3 events on option change: <em class="func">changeIdx</em>, <em class="func">changeVal</em> and <em class="func">changeTxt</em>,
returning array of indexes, array of values, and array of text values 
(each function returns single value for regular select)</p>

<pre><code>select.changeIdx = function (indexes) {
    // do something
};</code></pre>
<pre><code>select.changeVal = function (values) {
    // do something
};</code></pre>
<pre><code>select.changeTxt = function (textValues) {
    // do something
};</code></pre>

<h2>Full example</h2>

<div class="toolbar">
    <button type="button" id="even">Select even options</button>
    <button type="button" id="odd">Select odd options</button>
    <button type="button" id="reset">Reset</button>
</div>

<select id="countries" data-x="7" data-y="7" size="49" data-debug="true" multiple>
	<option value="AF">Afghanistan</option>
	<option value="AX">Ã…land Islands</option>
	<option value="AL">Albania</option>
	<option value="DZ">Algeria</option>
	<option value="AS">American Samoa</option>
	<option value="AD">Andorra</option>
	<option value="AO">Angola</option>
	<option value="AI">Anguilla</option>
	<option value="AQ">Antarctica</option>
	<option value="AG">Antigua and Barbuda</option>
	<option value="AR">Argentina</option>
	<option value="AM">Armenia</option>
	<option value="AW">Aruba</option>
	<option value="AU">Australia</option>
	<option value="AT">Austria</option>
	<option value="AZ">Azerbaijan</option>
	<option value="BS">Bahamas</option>
	<option value="BH">Bahrain</option>
	<option value="BD">Bangladesh</option>
	<option value="BB">Barbados</option>
	<option value="BY">Belarus</option>
	<option value="BE">Belgium</option>
	<option value="BZ">Belize</option>
	<option value="BJ">Benin</option>
	<option value="BM">Bermuda</option>
	<option value="BT">Bhutan</option>
	<option value="BO">Bolivia, Plurinational State of</option>
	<option value="BQ">Bonaire, Sint Eustatius and Saba</option>
	<option value="BA">Bosnia and Herzegovina</option>
	<option value="BW">Botswana</option>
	<option value="BV">Bouvet Island</option>
	<option value="BR">Brazil</option>
	<option value="IO">British Indian Ocean Territory</option>
	<option value="BN">Brunei Darussalam</option>
	<option value="BG">Bulgaria</option>
	<option value="BF">Burkina Faso</option>
	<option value="BI">Burundi</option>
	<option value="KH">Cambodia</option>
	<option value="CM">Cameroon</option>
	<option value="CA">Canada</option>
	<option value="CV">Cape Verde</option>
	<option value="KY">Cayman Islands</option>
	<option value="CF">Central African Republic</option>
	<option value="TD">Chad</option>
	<option value="CL">Chile</option>
	<option value="CN">China</option>
	<option value="CX">Christmas Island</option>
	<option value="CC">Cocos (Keeling) Islands</option>
	<option value="CO">Colombia</option>
</select>

<div class="result">
    <p>Result</p>
    <div id="country-result">&nbsp;</div>
</div>

<a href="https://github.com/mark-rolich"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>
<script type="text/javascript" src="Event.js"></script>
<script type="text/javascript" src="Select2D.min.js"></script>
<script type="text/javascript">
var evt = new Event(),
    regular     = new Select2D(evt, document.getElementById('regular')),
    multi1      = new Select2D(evt, document.getElementById('multi-debug')),
    countries   = new Select2D(evt, document.getElementById('countries')),
    evenBtn     = document.getElementById('even'),
    oddBtn      = document.getElementById('odd'),
    resetBtn    = document.getElementById('reset'),
    result      = document.getElementById('country-result'),
    str         = '';

evenBtn.onclick = function () {
    countries.reset();

    for (var i = 0; i <= 48; i += 1) {
        if (i%2 !== 0) {
            countries.selectByIndex(i);
        }
    }
};

oddBtn.onclick = function () {
    countries.reset();

    for (var i = 0; i <= 48; i += 1) {
        if (i%2 === 0) {
            countries.selectByIndex(i);
        }
    }
};

resetBtn.onclick = function () {
    countries.reset();
};

countries.changeIdx = function (indexes) {
    str = '<strong>indexes</strong>: [';

    for (var i = 0; i < indexes.length; i += 1) {
        str += indexes[i] + ', ';
    }

    str = str.substr(0, str.length - 2) + ']' + "<br><br>";
};

countries.changeVal = function (values) {
    str += '<strong>values</strong>: [';

    for (var i = 0; i < values.length; i += 1) {
        str += '"' + values[i] + '", ';
    }

    str = str.substr(0, str.length - 2) + ']' + "<br><br>";
};

countries.changeTxt = function (textValues) {
    str += '<strong>textValues</strong>: [';

    for (var i = 0; i < textValues.length; i += 1) {
        str += '"' + textValues[i] + '", ';
    }

    str = str.substr(0, str.length - 2) + ']' + "\r\n";

    result.innerHTML = str;
};
</script>
</body>
</html>